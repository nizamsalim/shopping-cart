<div class="container">
    <div class="row mt-5" >
        <div class="col-md-6" style="border-right: solid 1px rgba(0,0,0,0.1);">
            <h2>Enter Delivery Details</h2>
            <form class="row g-3 needs-validation"  novalidate id="checkout-form" autocomplete="off">
                
                <div class="col-12">
                    <label for="inputAddress" class="form-label">Address</label>
                    <input type="text" name="address1" class="form-control" id="inputAddress" 
                    placeholder="Enter address" required>
                    <div class="invalid-feedback">Please enter valid address</div>               
                </div>
                
                <div class="col-12">
                    <label for="inputMobile">Mobile</label>
                    <input type="tel" class="form-control w-50" id="inputMobile" name="mobile" required>
                    <div class="invalid-feedback">Please enter mobile number</div>   
                        
                </div>
                
                
                <div class="col-md-4">
                    <label for="inputState" class="form-label">State</label>
                    <select id="inputState" name="state" class="form-select" required>
                        <option selected>Choose...</option>
                        <option>State 1</option>
                        <option>State 2</option>
                        <option>State 3</option>
                        <option>State 4</option>
                    </select>
                    <div class="invalid-feedback">Please choose state</div>   
                </div>
                <div class="col-md-2">
                    <label for="inputZip"  class="form-label">Pincode</label>
                    <input type="text" class="form-control" style="width: 150%;" id="inputZip" name="pin" required>
                    <div class="invalid-feedback">Please enter PIN </div>   
                </div>
                <input type="text" name="userId" value="{{user._id}}" hidden>
                
                
            
        </div>

        <div class="col-md-6 p-5">
            <div><h2>Total amount : <span id="checkout-total">Rs. {{cartTotal}}</span></h2></div>
            <hr>
            <h4>Payment method</h4>
            <div class="col-12 mt-4">
                    <div class="form-check">
                        <input class="form-check-input" name="payment" type="radio" id="gridCheck1" value="COD" checked>
                        <label class="form-check-label" for="gridCheck1">
                            COD
                        </label>
                    </div>
            </div>
            <div class="col-12">
                    <div class="form-check">
                        <input class="form-check-input" name="payment" type="radio" value="ONLINE" id="gridCheck2">
                        <label class="form-check-label" for="gridCheck2">
                            Online payment
                        </label>
                    </div>
            </div>
            <br><br>

            <div class="col-12">
                    <button type="submit" class="btn btn-success w-100">Checkout</button>
            </div>

            

        </div>
        </form>
    </div>
</div>

<script>
    $("#checkout-form").submit((e)=>{
        e.preventDefault()
        $.ajax({
            url:'/place-order',
            method:'post',
            data:$("#checkout-form").serialize(),
            success:(response)=>{
                location.href='/order-placed'
                
            }
                
            
        })
    })
</script>